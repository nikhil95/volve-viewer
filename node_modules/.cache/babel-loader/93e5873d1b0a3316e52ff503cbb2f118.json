{"ast":null,"code":"import _toConsumableArray from \"/home/kv/Desktop/Nikhil/VolView-4.0.0/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.string.sub.js\";\nimport { vec3 } from 'gl-matrix';\nimport macro from '@kitware/vtk.js/macro';\nimport vtkViewProxy from '@kitware/vtk.js/Proxy/Core/ViewProxy';\nexport function commonViewCustomizations(publicAPI, model) {\n  var delayedRender = macro.debounce(model.renderWindow.render, 5); // override resize to avoid flickering from rendering later\n\n  publicAPI.resize = function () {\n    if (model.container) {\n      var dims = model.container.getBoundingClientRect();\n\n      if (dims.width === dims.height && dims.width === 0) {\n        return;\n      }\n\n      var devicePixelRatio = window.devicePixelRatio || 1;\n      var width = Math.max(10, Math.floor(devicePixelRatio * dims.width));\n      var height = Math.max(10, Math.floor(devicePixelRatio * dims.height));\n      model.openglRenderWindow.setSize(width, height);\n      publicAPI.invokeResize({\n        width: width,\n        height: height\n      });\n      publicAPI.render(true);\n    }\n  }; // override render to not reset camera\n\n\n  publicAPI.render = function () {\n    var blocking = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    model.orientationWidget.updateMarkerOrientation();\n\n    if (blocking) {\n      model.renderWindow.render();\n    } else {\n      delayedRender();\n    }\n  }; // add helper function\n\n\n  publicAPI.removeAllRepresentations = function () {\n    model.representations.forEach(function (rep) {\n      return model.renderer.removeViewProp(rep);\n    });\n    model.representations.length = 0;\n  };\n\n  publicAPI.updateCamera = function (directionOfProjection, viewUp, focalPoint) {\n    var _model$camera, _model$camera2, _model$camera3, _model$camera4;\n\n    var position = vec3.clone(focalPoint);\n    vec3.sub(position, position, directionOfProjection);\n\n    (_model$camera = model.camera).setFocalPoint.apply(_model$camera, _toConsumableArray(focalPoint));\n\n    (_model$camera2 = model.camera).setPosition.apply(_model$camera2, _toConsumableArray(position));\n\n    (_model$camera3 = model.camera).setDirectionOfProjection.apply(_model$camera3, _toConsumableArray(directionOfProjection));\n\n    (_model$camera4 = model.camera).setViewUp.apply(_model$camera4, _toConsumableArray(viewUp));\n  }; // disable the built-in corner annotations\n\n\n  var setContainer = publicAPI.setContainer;\n\n  publicAPI.setContainer = function (el) {\n    setContainer(el);\n    model.cornerAnnotation.setContainer(null);\n  };\n\n  var resetCamera = publicAPI.resetCamera;\n\n  publicAPI.resetCamera = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    resetCamera(args);\n    model.renderer.updateLightsGeometryToFollowCamera();\n  };\n}\n\nfunction vtkLPSView3DProxy(publicAPI, model) {\n  model.classHierarchy.push('vtkLPSView3DProxy');\n  commonViewCustomizations(publicAPI, model);\n}\n\nexport function extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, initialValues);\n  vtkViewProxy.extend(publicAPI, model, initialValues);\n  vtkLPSView3DProxy(publicAPI, model);\n}\nexport var newInstance = macro.newInstance(extend, 'vtkLPSView3DProxy');\nexport default {\n  newInstance: newInstance,\n  extend: extend\n};","map":{"version":3,"names":["vec3","macro","vtkViewProxy","commonViewCustomizations","publicAPI","model","delayedRender","debounce","renderWindow","render","resize","container","dims","getBoundingClientRect","width","height","devicePixelRatio","window","Math","max","floor","openglRenderWindow","setSize","invokeResize","blocking","orientationWidget","updateMarkerOrientation","removeAllRepresentations","representations","forEach","rep","renderer","removeViewProp","length","updateCamera","directionOfProjection","viewUp","focalPoint","position","clone","sub","camera","setFocalPoint","setPosition","setDirectionOfProjection","setViewUp","setContainer","el","cornerAnnotation","resetCamera","args","updateLightsGeometryToFollowCamera","vtkLPSView3DProxy","classHierarchy","push","extend","initialValues","Object","assign","newInstance"],"sources":["/home/kv/Desktop/Nikhil/VolView-4.0.0/src/vtk/LPSView3DProxy/index.js"],"sourcesContent":["import { vec3 } from 'gl-matrix';\nimport macro from '@kitware/vtk.js/macro';\nimport vtkViewProxy from '@kitware/vtk.js/Proxy/Core/ViewProxy';\n\nexport function commonViewCustomizations(publicAPI, model) {\n  const delayedRender = macro.debounce(model.renderWindow.render, 5);\n\n  // override resize to avoid flickering from rendering later\n  publicAPI.resize = () => {\n    if (model.container) {\n      const dims = model.container.getBoundingClientRect();\n      if (dims.width === dims.height && dims.width === 0) {\n        return;\n      }\n      const devicePixelRatio = window.devicePixelRatio || 1;\n      const width = Math.max(10, Math.floor(devicePixelRatio * dims.width));\n      const height = Math.max(10, Math.floor(devicePixelRatio * dims.height));\n      model.openglRenderWindow.setSize(width, height);\n      publicAPI.invokeResize({ width, height });\n      publicAPI.render(true);\n    }\n  };\n\n  // override render to not reset camera\n  publicAPI.render = (blocking = true) => {\n    model.orientationWidget.updateMarkerOrientation();\n    if (blocking) {\n      model.renderWindow.render();\n    } else {\n      delayedRender();\n    }\n  };\n\n  // add helper function\n  publicAPI.removeAllRepresentations = () => {\n    model.representations.forEach((rep) => model.renderer.removeViewProp(rep));\n    model.representations.length = 0;\n  };\n\n  publicAPI.updateCamera = (directionOfProjection, viewUp, focalPoint) => {\n    const position = vec3.clone(focalPoint);\n    vec3.sub(position, position, directionOfProjection);\n    model.camera.setFocalPoint(...focalPoint);\n    model.camera.setPosition(...position);\n    model.camera.setDirectionOfProjection(...directionOfProjection);\n    model.camera.setViewUp(...viewUp);\n  };\n\n  // disable the built-in corner annotations\n  const { setContainer } = publicAPI;\n  publicAPI.setContainer = (el) => {\n    setContainer(el);\n    model.cornerAnnotation.setContainer(null);\n  };\n\n  const { resetCamera } = publicAPI;\n  publicAPI.resetCamera = (...args) => {\n    resetCamera(args);\n    model.renderer.updateLightsGeometryToFollowCamera();\n  };\n}\n\nfunction vtkLPSView3DProxy(publicAPI, model) {\n  model.classHierarchy.push('vtkLPSView3DProxy');\n  commonViewCustomizations(publicAPI, model);\n}\n\nexport function extend(publicAPI, model, initialValues = {}) {\n  Object.assign(model, initialValues);\n\n  vtkViewProxy.extend(publicAPI, model, initialValues);\n\n  vtkLPSView3DProxy(publicAPI, model);\n}\n\nexport const newInstance = macro.newInstance(extend, 'vtkLPSView3DProxy');\n\nexport default { newInstance, extend };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}